syntax = "proto3";

package com.fpm2025.grpc;

import "common.proto";

option java_multiple_files = true;
option java_package = "com.fpm2025.grpc.category";
option java_outer_classname = "CategoryProto";

service CategoryService {
  rpc GetCategory(GetCategoryRequest) returns (GetCategoryResponse);
  rpc ValidateCategory(ValidateCategoryRequest) returns (ValidateCategoryResponse);
  rpc ListCategories(ListCategoriesRequest) returns (ListCategoriesResponse);
}

message GetCategoryRequest {
  string category_id = 1;
  string user_id = 2;
}

message GetCategoryResponse {
  bool success = 1;
  Category category = 2;
  string message = 3;
}

message ValidateCategoryRequest {
  string category_id = 1;
  string user_id = 2;
}

message ValidateCategoryResponse {
  bool valid = 1;
  string category_id = 2;
  string category_type = 3;
  string message = 4;
}

message ListCategoriesRequest {
  string user_id = 1;
  string category_type = 2;
}

message ListCategoriesResponse {
  repeated Category categories = 1;
}

message Category {
  string category_id = 1;
  string name = 2;
  string category_type = 3;
  string icon = 4;
  string parent_id = 5;
  string user_id = 6;
}
